---
- name: Deploy FastAPI application
  hosts: api
  vars:
    app_name: case-management
    app_user: ec2-user
    app_dir: /home/ec2-user/app
    api_port: 8000
    db_host: "{{ rds_endpoint }}"
    db_port: 5432
    db_name: data_request_manager
    db_user: postgres
    db_password: "{{ db_password }}"
    cors_origins: "{{ cors_origins }}"

  roles:
    - api
